{"version":3,"file":"user-repository.js","sourceRoot":"/","sources":["src/repository/user-repository.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAC,SAAS,EAAE,oBAAoB,EAAE,KAAK,EAAC,MAAM,uCAAuC,CAAC;AAC7F,OAAO,EAAC,UAAU,EAAC,MAAM,2BAA2B,CAAC;AACrD,OAAO,KAAK,GAAG,MAAM,SAAS,CAAC;AAE/B,MAAM,OAAO,cAAc;IAA3B;QACY,WAAM,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE,CAAC;QAC5B,WAAM,GAAG,IAAI,UAAU,CAAC,EAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAC,CAAC,CAAC;IAM3D,CAAC;IAJU,KAAK,CAAC,IAAI,CAAC,IAAU;QACxB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAA;QAClD,OAAO,MAAM,CAAC,IAAI,CAAC;IACvB,CAAC;CACJ;AAGD,IAAa,IAAI,GAAjB,MAAa,IAAI;CAYhB,CAAA;AAVG;IADC,oBAAoB,EAAE;gCACZ;AAGX;IADC,SAAS,EAAE;mCACE;AAGd;IADC,SAAS,EAAE;kCACC;AAGb;IADC,SAAS,EAAE;kCACC;AAXJ,IAAI;IADhB,KAAK,CAAC,OAAO,CAAC;GACF,IAAI,CAYhB;SAZY,IAAI","sourcesContent":["import {attribute, autoGeneratedHashKey, table} from \"@aws/dynamodb-data-mapper-annotations\";\r\nimport {DataMapper} from \"@aws/dynamodb-data-mapper\";\r\nimport * as AWS from \"aws-sdk\";\r\n\r\nexport class UserRepository {\r\n    private client = new AWS.DynamoDB();\r\n    private mapper = new DataMapper({client: this.client});\r\n\r\n    public async save(user: User): Promise<User> {\r\n        const result = await this.mapper.put({item: user})\r\n        return result.item;\r\n    }\r\n}\r\n\r\n@table('users')\r\nexport class User {\r\n    @autoGeneratedHashKey()\r\n    id: string;\r\n\r\n    @attribute()\r\n    email: string;\r\n\r\n    @attribute()\r\n    salt: string;\r\n\r\n    @attribute()\r\n    hash: string;\r\n}"]}